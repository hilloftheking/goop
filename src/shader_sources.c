const char *COMPUTE_SDF_COMP_SRC = "#version 430\nlayout(local_size_x=4,local_size_y=4,local_size_z=4)in;const vec3 _58[7]=vec3[](vec3(0.4099999964237213134765625,0.039999999105930328369140625,0.0599999986588954925537109375),vec3(0.4900000095367431640625,0.800000011920928955078125,0.20000000298023223876953125),vec3(0.85000002384185791015625,0.767000019550323486328125,0.1360000073909759521484375),vec3(0.939999997615814208984375,0.56099998950958251953125,0.065800003707408905029296875),vec3(0.1500000059604644775390625,0.085000000894069671630859375,0.0),vec3(0.50499999523162841796875,0.70599997043609619140625,0.87000000476837158203125),vec3(0.89999997615814208984375,0.89999997615814208984375,0.800000011920928955078125));const vec3 _190[8]=vec3[](vec3(0.5),vec3(0.5,0.5,-0.5),vec3(0.5,-0.5,0.5),vec3(0.5,-0.5,-0.5),vec3(-0.5,0.5,0.5),vec3(-0.5,0.5,-0.5),vec3(-0.5,-0.5,0.5),vec3(-0.5));int _423;layout(binding=1,std430)restrict readonly buffer BlobOctree{int blob_ot[];}_153;layout(binding=0,std430)restrict readonly buffer Blobs{vec4 blobs[];}_270;layout(location=0)uniform int blob_count;layout(location=2)uniform float sdf_size;layout(location=3)uniform int sdf_res;layout(location=1)uniform vec3 sdf_pos;layout(location=5)uniform float blob_smooth;layout(location=4)uniform float sdf_max_dist;layout(binding=0,rgba8)uniform writeonly image3D img_output;void main(){bool _114=blob_count==(-1);vec3 _138=(((vec3(gl_GlobalInvocationID)+vec3(0.5))*(sdf_size/float(sdf_res)))+sdf_pos)-(vec3(sdf_size)*0.5);int _422;int _438;if(_114){vec3 _415;_415=sdf_pos;int _424;int _425;int _439;int _440;vec3 _446;float _447;int _412=_153.blob_ot[0];float _417=sdf_size;int _419=0;for(;;){if(_412==(-1)){bool _420;int _413=0;for(;;){if(_413<8){vec3 _198=_415+((vec3(_417)*_190[_413])*0.5);if(length(max(abs(_138-_198)-vec3(_417*0.25),vec3(0.0)))<=0.0){int _218=(_419+1)+_413;_447=_417*0.5;_446=_198;_440=_153.blob_ot[_218];_425=_153.blob_ot[_153.blob_ot[_218]];_420=true;break;}_413++;continue;}else{_447=_417;_446=_415;_440=_419;_425=_412;_420=false;break;}}if(!_420){_439=_440;_424=_425;break;}_419=_440;_417=_447;_415=_446;_412=_425;continue;}else{_439=_419;_424=_412;break;}}_438=_439;_422=_424;}else{_438=_423;_422=_423;}int _429;if(_114){_429=_422;}else{_429=blob_count;}float _430;float _432;vec3 _434;_434=vec3(0.0);_432=0.0;_430=1000.0;float _321;vec3 _329;float _405;for(int _427=0;_427<_429;_434=_329,_432=_321,_430=_405,_427++){vec4 _441;if(_114){_441=_270.blobs[_153.blob_ot[(_438+1)+_427]];}else{_441=_270.blobs[_427];}int _283=int(_441.w);float _383=fma(-float(_283/7),9.9999997473787516355514526367188e-05,length(_138-_441.xyz));float _394=clamp(0.5+((0.5*(_383-_430))/blob_smooth),0.0,1.0);_405=fma(-(blob_smooth*_394),1.0-_394,mix(_383,_430,_394));float _315=clamp(blob_smooth-_383,0.0,1.0);_321=fma(_315,_315,_432);_329=_434+(_58[_283%7]*(_315*_315));}imageStore(img_output,ivec3(gl_GlobalInvocationID),vec4(_434/vec3(_432),1.0-((clamp(_430,-0.20000000298023223876953125,sdf_max_dist)-(-0.20000000298023223876953125))/(sdf_max_dist-(-0.20000000298023223876953125)))));}\n";
const char *RAYMARCH_FRAG_SRC = "#version 430\nvec4 _840;layout(location=2)uniform mat4 proj_mat;layout(location=1)uniform mat4 view_mat;layout(location=0)uniform mat4 model_mat;layout(location=4)uniform float dist_scale;layout(binding=0)uniform sampler3D sdf_tex;layout(location=5)uniform float sdf_max_dist;layout(binding=1)uniform sampler2D water_tex;layout(location=3)uniform vec3 cam_pos;layout(location=0)in vec3 local_pos;layout(location=0)out vec4 out_color;void main(){vec3 _433=(inverse(model_mat)*vec4(cam_pos,1.0)).xyz;vec3 _442=normalize(local_pos-_433);vec4 _837;do{vec3 _645=(vec3(-0.5)-_433)/_442;vec3 _650=(vec3(0.5)-_433)/_442;vec3 _653=min(_645,_650);vec3 _656=max(_645,_650);float _672=min(min(_656.x,_656.y),_656.z);float _513=max(0.0,max(max(_653.x,_653.y),_653.z));float _612;bool _834;vec4 _838;int _831=0;float _832=_513;for(;;){if(_831<128){vec3 _523=_433+(_442*_832);vec3 _526=_523+vec3(0.5);vec4 _527=texture(sdf_tex,_526);float _534=fma(1.0-_527.w,sdf_max_dist-(-0.20000000298023223876953125),-0.20000000298023223876953125);float _536=_534*dist_scale;if(_536<=0.001000000047497451305389404296875){if(_536<=(-0.00150000001303851604461669921875)){_838=vec4(_527.xyz*0.5,max(0.00999999977648258209228515625,_832));_834=true;break;}vec3 _685=vec3(0.20000000298023223876953125*dist_scale,0.0,0.0);vec3 _691=_685.xyy;vec3 _706=_685.yxy;vec3 _721=_685.yyx;vec3 _567=normalize(transpose(inverse(mat3(model_mat[0].xyz,model_mat[1].xyz,model_mat[2].xyz)))*(-normalize(vec3(texture(sdf_tex,_526+_691).w-texture(sdf_tex,_526-_691).w,texture(sdf_tex,_526+_706).w-texture(sdf_tex,_526-_706).w,texture(sdf_tex,_526+_721).w-texture(sdf_tex,_526-_721).w))));vec3 _584=(model_mat*vec4(_523,1.0)).xyz*0.100000001490116119384765625;vec3 _761=pow(abs(_567),vec3(0.5));float _764=_761.x;float _768=_761.y;float _773=_761.z;vec3 _593=_527.xyz*mix(((((texture(water_tex,_584.yz)*_764)+(texture(water_tex,_584.zx)*_768))+(texture(water_tex,_584.xy)*_773))/vec4((_764+_768)+_773)).xyz,vec3(1.0),vec3(0.60000002384185791015625));_838=vec4(((_593*vec3(1.0,1.0,0.89999997615814208984375))*mix(max(0.0,dot(_567,vec3(0.3244428336620330810546875,0.811107099056243896484375,0.4866642653942108154296875))),1.0,0.60000002384185791015625))+((_593*vec3(0.0900000035762786865234375,0.0900000035762786865234375,0.20000000298023223876953125))*mix(max(0.0,dot(_567,vec3(-0.1825741827487945556640625,-0.912870943546295166015625,-0.365148365497589111328125))),1.0,0.60000002384185791015625)),_832);_834=true;break;}_612=fma(_534,dist_scale,_832);bool _614=_612>=40.0;bool _622;if(!_614){_622=_612>=_672;}else{_622=_614;}if(_622){_838=_840;_834=false;break;}_832=_612;_831++;continue;}else{_838=_840;_834=false;break;}}if(_834){_837=_838;break;}_837=vec4(0.0,0.0,0.0,-1.0);break;}while(false);if(_837.w<0.0){discard;}out_color=vec4(_837.xyz,1.0);vec4 _800=((proj_mat*view_mat)*model_mat)*vec4(_433+(_442*_837.w),1.0);gl_FragDepth=((_800.z/_800.w)+1.0)*0.5;}\n";
const char *RAYMARCH_VERT_SRC = "#version 430\nlayout(location=2)uniform mat4 proj_mat;layout(location=1)uniform mat4 view_mat;layout(location=0)uniform mat4 model_mat;layout(location=0)out vec3 local_pos;layout(location=0)in vec3 in_pos;void main(){local_pos=in_pos;gl_Position=((proj_mat*view_mat)*model_mat)*vec4(in_pos,1.0);}\n";
const char *SKYBOX_FRAG_SRC = "#version 430\nlayout(binding=0)uniform samplerCube skybox;layout(location=0)out vec4 out_color;layout(location=0)in vec3 local_pos;void main(){out_color=texture(skybox,local_pos);}\n";
const char *SKYBOX_VERT_SRC = "#version 430\nlayout(location=0)uniform mat4 view_mat;layout(location=1)uniform mat4 proj_mat;layout(location=0)out vec3 local_pos;layout(location=0)in vec3 in_pos;void main(){local_pos=in_pos;mat4 _19=view_mat;_19[3].x=0.0;_19[3].y=0.0;_19[3].z=0.0;gl_Position=(proj_mat*_19)*vec4(in_pos,1.0);}\n";
